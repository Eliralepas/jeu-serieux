[gd_scene load_steps=43 format=4 uid="uid://bjxart0083r2e"]

[ext_resource type="Texture2D" uid="uid://c1khrid8l204b" path="res://assets/pixilart-drawing(3).png" id="1_3akjp"]
[ext_resource type="Script" uid="uid://bl0o2w56k0rk5" path="res://scripts/Communs_salon/piece.gd" id="1_fn1w0"]
[ext_resource type="Script" uid="uid://ci6e1yq5r3qrp" path="res://scripts/Communs_salon/liste_objets.gd" id="3_fn1w0"]
[ext_resource type="AudioStream" uid="uid://b6wgisfrmrxw7" path="res://musique/door_opening.ogg" id="3_y1q0v"]
[ext_resource type="AudioStream" uid="uid://c8yds8b1jt5kg" path="res://musique/magasin_background.mp3" id="4_sn8n4"]
[ext_resource type="Texture2D" uid="uid://cq70gsghqhspi" path="res://assets/red_wall.png" id="4_vqeng"]
[ext_resource type="AudioStream" uid="uid://dsadbandu8fmm" path="res://musique/people_talking.mp3" id="5_4ergh"]
[ext_resource type="Texture2D" uid="uid://f5farfysygqe" path="res://assets/beige_wall.png" id="5_piiin"]
[ext_resource type="Script" uid="uid://boujxh0nhxyey" path="res://scripts/Communs_salon/object.gd" id="5_r7tc6"]
[ext_resource type="AudioStream" uid="uid://bfsek6k1drq4p" path="res://musique/background.mp3" id="6_4f3jj"]
[ext_resource type="Texture2D" uid="uid://dhfmnj4t4qa6a" path="res://assets/green_wall.png" id="6_f0ole"]
[ext_resource type="Texture2D" uid="uid://bnkdkli8kuusq" path="res://assets/meubles/Grand tableau.png" id="7_gydn4"]
[ext_resource type="Texture2D" uid="uid://br07ilwgwtsb6" path="res://assets/table_basse_salon.png" id="7_ldh8b"]
[ext_resource type="Texture2D" uid="uid://blsf7ujf0sg66" path="res://assets/tv_salon.png" id="8_lcohu"]
[ext_resource type="Texture2D" uid="uid://bmvt4hcu8a34e" path="res://assets/meubles/small_painting1.png" id="8_qqt7l"]
[ext_resource type="Texture2D" uid="uid://bdxi43pprpxir" path="res://assets/meubles/Petit tableau.png" id="9_cq8tt"]
[ext_resource type="Texture2D" uid="uid://dnxw8g1b3m3qf" path="res://assets/canape_salon.png" id="9_gydn4"]
[ext_resource type="Texture2D" uid="uid://5ewf6wioby54" path="res://assets/meubles/Tapis.png" id="10_53y5c"]
[ext_resource type="Texture2D" uid="uid://d3cr4ds27g1xp" path="res://assets/bibliotheque_salon.png" id="10_qqt7l"]
[ext_resource type="Texture2D" uid="uid://de53n0pamw54l" path="res://assets/lampe_salon.png" id="11_cq8tt"]
[ext_resource type="Texture2D" uid="uid://vm40bp3mdh1p" path="res://assets/meubles/Plante.png" id="11_ydbjr"]
[ext_resource type="PackedScene" uid="uid://bidemcih0p3dj" path="res://Scenes/menu.tscn" id="12_lcohu"]
[ext_resource type="Texture2D" uid="uid://dkyg1nagcugqj" path="res://assets/meubles/Fauteuil.png" id="12_qqt7l"]
[ext_resource type="PackedScene" uid="uid://1slb4ng5gwih" path="res://Scenes/Magasin.tscn" id="18_vqeng"]
[ext_resource type="PackedScene" uid="uid://bjqgfx63o5avc" path="res://Scenes/perso_1.tscn" id="19_fn1w0"]
[ext_resource type="Script" uid="uid://86xs8jxdfdb4" path="res://scripts/Communs_salon/murs.gd" id="20_t4i3p"]
[ext_resource type="Script" uid="uid://dcpbiu0wbk62p" path="res://scripts/Communs_salon/elemMenu.gd" id="22_fn1w0"]
[ext_resource type="Script" uid="uid://bgujil4oqkot6" path="res://scripts/Communs_salon/broken_object.gd" id="27_sn8n4"]
[ext_resource type="Texture2D" uid="uid://yoe5vg8ki7p3" path="res://assets/meubles/broken_clock.png" id="28_qmtj2"]
[ext_resource type="Texture2D" uid="uid://cplh3q7rm5osb" path="res://assets/temp/dust1.png" id="29_t4i3p"]
[ext_resource type="Texture2D" uid="uid://d3ox532wdw7pr" path="res://assets/temp/dust2.png" id="30_fg88b"]
[ext_resource type="Texture2D" uid="uid://bvx5r1dsogtrd" path="res://assets/meubles/clock.png" id="31_cofgp"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_b535s"]
texture = ExtResource("1_3akjp")
texture_region_size = Vector2i(70, 70)
0:0/0 = 0

[sub_resource type="TileSet" id="TileSet_vqeng"]
tile_size = Vector2i(70, 70)
sources/1 = SubResource("TileSetAtlasSource_b535s")

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_bhhld"]

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_mexdd"]

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_tbtbg"]

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_gj30g"]

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_43rvo"]

[sub_resource type="Animation" id="Animation_8l67y"]
resource_name = "RESET"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("../marginContainer/textureRect:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [ExtResource("28_qmtj2")]
}

[sub_resource type="Animation" id="Animation_e7jy0"]
resource_name = "reparer"
length = 2.0
step = 0.5
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("../marginContainer/textureRect:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.5, 1, 1.5),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 1,
"values": [ExtResource("29_t4i3p"), ExtResource("30_fg88b"), ExtResource("29_t4i3p"), ExtResource("31_cofgp")]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_rmsjd"]
_data = {
&"RESET": SubResource("Animation_8l67y"),
&"reparer": SubResource("Animation_e7jy0")
}

[node name="salon" type="Node2D" node_paths=PackedStringArray("Personnages")]
script = ExtResource("1_fn1w0")
Personnages = NodePath("perso")

[node name="camera2D" type="Camera2D" parent="."]
position = Vector2(37, -5)
zoom = Vector2(0.78, 0.78)

[node name="sol" type="TileMapLayer" parent="."]
z_index = -1
tile_map_data = PackedByteArray("AAD2//3/AQAAAAAAAAD2//7/AQAAAAAAAAD2////AQAAAAAAAAD2/wAAAQAAAAAAAAD2/wEAAQAAAAAAAAD2/wIAAQAAAAAAAAD2/wMAAQAAAAAAAAD2/wQAAQAAAAAAAAD2/wUAAQAAAAAAAAD3/wUAAQAAAAAAAAD4/wUAAQAAAAAAAAD5/wUAAQAAAAAAAAD3//3/AQAAAAAAAAD3//7/AQAAAAAAAAD4//7/AQAAAAAAAAD5//7/AQAAAAAAAAD6////AQAAAAAAAAD7////AQAAAAAAAAD8/wAAAQAAAAAAAAD9/wAAAQAAAAAAAAD+/wEAAQAAAAAAAAD//wEAAQAAAAAAAAAAAAEAAQAAAAAAAAAAAAIAAQAAAAAAAAABAAIAAQAAAAAAAAACAAIAAQAAAAAAAAD4//3/AQAAAAAAAAD5//3/AQAAAAAAAAD6//3/AQAAAAAAAAD7//3/AQAAAAAAAAD8//3/AQAAAAAAAAD9//3/AQAAAAAAAAD+//3/AQAAAAAAAAD///3/AQAAAAAAAAAAAP3/AQAAAAAAAAABAP3/AQAAAAAAAAACAP3/AQAAAAAAAAADAP3/AQAAAAAAAAAEAP3/AQAAAAAAAAAFAP3/AQAAAAAAAAAGAP3/AQAAAAAAAAAHAP3/AQAAAAAAAAAIAP3/AQAAAAAAAAAJAP3/AQAAAAAAAAAKAP3/AQAAAAAAAAAKAP7/AQAAAAAAAAAKAP//AQAAAAAAAAAKAAAAAQAAAAAAAAAKAAEAAQAAAAAAAAAKAAIAAQAAAAAAAAAJAAIAAQAAAAAAAAAJAAMAAQAAAAAAAAAJAAQAAQAAAAAAAAAKAAQAAQAAAAAAAAAKAAUAAQAAAAAAAAAJAAUAAQAAAAAAAAAIAAUAAQAAAAAAAAAHAAUAAQAAAAAAAAAGAAUAAQAAAAAAAAAFAAUAAQAAAAAAAAAEAAUAAQAAAAAAAAADAAUAAQAAAAAAAAACAAUAAQAAAAAAAAABAAUAAQAAAAAAAAAAAAUAAQAAAAAAAAD//wUAAQAAAAAAAAD+/wUAAQAAAAAAAAD9/wUAAQAAAAAAAAD8/wUAAQAAAAAAAAD7/wUAAQAAAAAAAAD6/wUAAQAAAAAAAAD6/wQAAQAAAAAAAAD5/wQAAQAAAAAAAAD4/wQAAQAAAAAAAAD3/wMAAQAAAAAAAAD3/wIAAQAAAAAAAAD3/wQAAQAAAAAAAAD4/wMAAQAAAAAAAAD4/wIAAQAAAAAAAAD4/wEAAQAAAAAAAAD3/wAAAQAAAAAAAAD3////AQAAAAAAAAD3/wEAAQAAAAAAAAD4/wAAAQAAAAAAAAD4////AQAAAAAAAAD5////AQAAAAAAAAD5/wAAAQAAAAAAAAD5/wEAAQAAAAAAAAD6/wAAAQAAAAAAAAD6/wEAAQAAAAAAAAD6/wIAAQAAAAAAAAD6/wMAAQAAAAAAAAD7/wQAAQAAAAAAAAD7/wMAAQAAAAAAAAD7/wIAAQAAAAAAAAD7/wEAAQAAAAAAAAD7/wAAAQAAAAAAAAD7//7/AQAAAAAAAAD5/wMAAQAAAAAAAAD5/wIAAQAAAAAAAAD8//7/AQAAAAAAAAD8////AQAAAAAAAAD8/wEAAQAAAAAAAAD8/wIAAQAAAAAAAAD8/wMAAQAAAAAAAAD8/wQAAQAAAAAAAAD9/wQAAQAAAAAAAAD9/wMAAQAAAAAAAAD9/wIAAQAAAAAAAAD9/wEAAQAAAAAAAAD+/wAAAQAAAAAAAAD+////AQAAAAAAAAD+//7/AQAAAAAAAAD9////AQAAAAAAAAD9//7/AQAAAAAAAAD///7/AQAAAAAAAAD/////AQAAAAAAAAD//wAAAQAAAAAAAAD//wIAAQAAAAAAAAD//wMAAQAAAAAAAAD//wQAAQAAAAAAAAD+/wQAAQAAAAAAAAD+/wMAAQAAAAAAAAD+/wIAAQAAAAAAAAAAAAQAAQAAAAAAAAAAAAMAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAP//AQAAAAAAAAAAAP7/AQAAAAAAAAABAP7/AQAAAAAAAAABAP//AQAAAAAAAAABAAAAAQAAAAAAAAABAAEAAQAAAAAAAAABAAMAAQAAAAAAAAACAAMAAQAAAAAAAAADAAQAAQAAAAAAAAADAAMAAQAAAAAAAAABAAQAAQAAAAAAAAACAAQAAQAAAAAAAAADAAIAAQAAAAAAAAADAAEAAQAAAAAAAAADAAAAAQAAAAAAAAACAAAAAQAAAAAAAAACAP//AQAAAAAAAAACAP7/AQAAAAAAAAACAAEAAQAAAAAAAAAEAAQAAQAAAAAAAAAFAAQAAQAAAAAAAAAFAAMAAQAAAAAAAAAEAAMAAQAAAAAAAAAEAAIAAQAAAAAAAAAEAAEAAQAAAAAAAAAEAAAAAQAAAAAAAAAEAP//AQAAAAAAAAAEAP7/AQAAAAAAAAAFAP//AQAAAAAAAAAFAAAAAQAAAAAAAAAFAAEAAQAAAAAAAAAFAP7/AQAAAAAAAAAFAAIAAQAAAAAAAAAGAP//AQAAAAAAAAAGAAAAAQAAAAAAAAAGAAEAAQAAAAAAAAAGAAIAAQAAAAAAAAAGAAMAAQAAAAAAAAAGAAQAAQAAAAAAAAAHAAQAAQAAAAAAAAAIAAQAAQAAAAAAAAAKAAMAAQAAAAAAAAAJAP7/AQAAAAAAAAAIAP7/AQAAAAAAAAAHAP7/AQAAAAAAAAAGAP7/AQAAAAAAAAADAP7/AQAAAAAAAAADAP//AQAAAAAAAAD6//7/AQAAAAAAAAAHAAMAAQAAAAAAAAAIAAMAAQAAAAAAAAAIAAIAAQAAAAAAAAAHAAIAAQAAAAAAAAAHAAEAAQAAAAAAAAAIAAEAAQAAAAAAAAAJAAEAAQAAAAAAAAAJAAAAAQAAAAAAAAAIAAAAAQAAAAAAAAAHAAAAAQAAAAAAAAAHAP//AQAAAAAAAAAIAP//AQAAAAAAAAAJAP//AQAAAAAAAAA=")
tile_set = SubResource("TileSet_vqeng")

[node name="songs" type="Node" parent="."]

[node name="porte" type="AudioStreamPlayer2D" parent="songs"]
stream = ExtResource("3_y1q0v")

[node name="magasinBackground" type="AudioStreamPlayer2D" parent="songs"]
stream = ExtResource("4_sn8n4")

[node name="talkingPeople" type="AudioStreamPlayer2D" parent="songs"]
stream = ExtResource("5_4ergh")

[node name="mainBackground" type="AudioStreamPlayer2D" parent="songs"]
stream = ExtResource("6_4f3jj")

[node name="meublesBase" type="Node" parent="."]

[node name="tableBasse" type="Sprite2D" parent="meublesBase"]
position = Vector2(-319, -42)
scale = Vector2(0.466, 0.466)
texture = ExtResource("7_ldh8b")

[node name="tv" type="Sprite2D" parent="meublesBase"]
position = Vector2(-342, -208)
scale = Vector2(4, 4)
texture = ExtResource("8_lcohu")

[node name="canape" type="Sprite2D" parent="meublesBase"]
z_index = -1
position = Vector2(-550, 21)
scale = Vector2(4.55714, 4.55714)
texture = ExtResource("9_gydn4")

[node name="listeObjets" type="Node2D" parent="."]
script = ExtResource("3_fn1w0")

[node name="bigPainting" type="Sprite2D" parent="listeObjets"]
visible = false
position = Vector2(-533, -299)
scale = Vector2(0.890625, 0.890625)
texture = ExtResource("7_gydn4")
script = ExtResource("5_r7tc6")

[node name="grandeLampe" type="Sprite2D" parent="listeObjets"]
visible = false
position = Vector2(-601, -198)
scale = Vector2(0.20944, 0.20944)
texture = ExtResource("11_cq8tt")
script = ExtResource("5_r7tc6")

[node name="bibliotheque" type="Sprite2D" parent="listeObjets"]
visible = false
position = Vector2(-10, -286)
scale = Vector2(4, 4)
texture = ExtResource("10_qqt7l")
script = ExtResource("5_r7tc6")

[node name="smallPainting1" type="Sprite2D" parent="listeObjets"]
visible = false
position = Vector2(170, -209)
scale = Vector2(1.625, 1.625)
texture = ExtResource("9_cq8tt")
script = ExtResource("5_r7tc6")

[node name="smallPainting2" type="Sprite2D" parent="listeObjets"]
visible = false
position = Vector2(-90, -292)
scale = Vector2(0.858397, 0.858397)
texture = ExtResource("8_qqt7l")
script = ExtResource("5_r7tc6")

[node name="carpet" type="Sprite2D" parent="listeObjets"]
visible = false
position = Vector2(94, -23)
texture = ExtResource("10_53y5c")
script = ExtResource("5_r7tc6")

[node name="plant" type="Sprite2D" parent="listeObjets"]
visible = false
position = Vector2(-554, 221)
texture = ExtResource("11_ydbjr")
script = ExtResource("5_r7tc6")

[node name="armchair" type="Sprite2D" parent="listeObjets"]
visible = false
position = Vector2(-130, -58)
texture = ExtResource("12_qqt7l")
script = ExtResource("5_r7tc6")

[node name="murs" type="Node2D" parent="."]
position = Vector2(0, -4)
script = ExtResource("20_t4i3p")

[node name="beigeWall" type="Sprite2D" parent="murs"]
visible = false
z_index = -1
position = Vector2(36.999992, -315)
scale = Vector2(2.8828125, 0.41015628)
texture = ExtResource("5_piiin")

[node name="redWall" type="Sprite2D" parent="murs"]
visible = false
z_index = -1
position = Vector2(37.5, -315)
scale = Vector2(2.8847656, 0.41015625)
texture = ExtResource("4_vqeng")

[node name="greenWall" type="Sprite2D" parent="murs"]
z_index = -2
position = Vector2(37.000046, -315)
scale = Vector2(2.8828125, 0.41015625)
texture = ExtResource("6_f0ole")

[node name="perso" type="Node2D" parent="."]

[node name="perso1" parent="perso" node_paths=PackedStringArray("ListeObjets") instance=ExtResource("19_fn1w0")]
position = Vector2(-129, 42)
ListeObjets = NodePath("../../listeObjets")

[node name="perso2" parent="perso" node_paths=PackedStringArray("ListeObjets") instance=ExtResource("19_fn1w0")]
position = Vector2(-480, 216)
ListeObjets = NodePath("../../listeObjets")

[node name="perso3" parent="perso" node_paths=PackedStringArray("ListeObjets") instance=ExtResource("19_fn1w0")]
position = Vector2(76, 200)
ListeObjets = NodePath("../../listeObjets")

[node name="menu" parent="." instance=ExtResource("12_lcohu")]
z_index = 3
offset_left = 361.0
offset_top = -394.0
offset_right = 361.0
offset_bottom = -394.0
script = ExtResource("22_fn1w0")

[node name="store" parent="." instance=ExtResource("18_vqeng")]
visible = false
z_index = 10
position = Vector2(-603, -322)

[node name="brokenObject" type="Node2D" parent="."]
z_index = 3
position = Vector2(166, -430)
script = ExtResource("27_sn8n4")

[node name="objetCasse" type="Button" parent="brokenObject"]
z_index = 1
offset_right = 256.0
offset_bottom = 256.0
mouse_default_cursor_shape = 2
theme_override_styles/normal = SubResource("StyleBoxEmpty_bhhld")
theme_override_styles/pressed = SubResource("StyleBoxEmpty_mexdd")
theme_override_styles/hover = SubResource("StyleBoxEmpty_tbtbg")
theme_override_styles/disabled = SubResource("StyleBoxEmpty_gj30g")
theme_override_styles/focus = SubResource("StyleBoxEmpty_43rvo")
flat = true

[node name="btnReparer" type="Button" parent="brokenObject/objetCasse"]
visible = false
top_level = true
layout_mode = 0
offset_left = 143.0
offset_top = -329.0
offset_right = 157.0
offset_bottom = -313.0
mouse_default_cursor_shape = 2
theme_override_font_sizes/font_size = 20

[node name="marginContainer" type="MarginContainer" parent="brokenObject"]
offset_right = 256.0
offset_bottom = 256.0
mouse_filter = 2

[node name="textureRect" type="TextureRect" parent="brokenObject/marginContainer"]
z_index = -3
layout_mode = 2
mouse_filter = 2
texture = ExtResource("28_qmtj2")

[node name="animationRepare" type="AnimationPlayer" parent="brokenObject/marginContainer/textureRect"]
unique_name_in_owner = true
root_node = NodePath("../../../objetCasse")
libraries = {
&"": SubResource("AnimationLibrary_rmsjd")
}

[connection signal="pressed" from="brokenObject/objetCasse" to="brokenObject" method="_on_objet_casse_pressed"]
[connection signal="pressed" from="brokenObject/objetCasse/btnReparer" to="." method="_on_btn_reparer_pressed"]
