[gd_scene load_steps=55 format=4 uid="uid://c84vma230pwcg"]

[ext_resource type="Script" uid="uid://bc6pdkyf1rppt" path="res://scripts/dortoir/dortoir.gd" id="1_22j5c"]
[ext_resource type="Script" uid="uid://k7olj3l2d60x" path="res://scripts/murs.gd" id="2_lirun"]
[ext_resource type="Texture2D" uid="uid://cbtvsv66i3jee" path="res://assets/mur/motifs_bleu.png" id="3_p850f"]
[ext_resource type="Texture2D" uid="uid://boubmhtw10qmj" path="res://assets/mur/mur_sombre.png" id="4_rtfo1"]
[ext_resource type="Texture2D" uid="uid://d72mh557jpog" path="res://assets/mur/mur_vert.png" id="5_ydsas"]
[ext_resource type="Texture2D" uid="uid://l8snwins3xjd" path="res://assets/sol/parquet-brun-clair-fin-(milieu)-pixilart(1).png" id="6_aa5oj"]
[ext_resource type="Texture2D" uid="uid://biihxfugstveu" path="res://assets/sol/parquet-brun-clair-fin-(milieu)-pixilart.png" id="7_wn41e"]
[ext_resource type="Texture2D" uid="uid://fm5bui5nacmc" path="res://assets/sol/parquet-brun-clair-pixilart(1).png" id="8_cnlyv"]
[ext_resource type="Texture2D" uid="uid://trxci3tyhtj6" path="res://assets/sol/parquet-brun-clair-pixilart(2).png" id="9_lggmk"]
[ext_resource type="Texture2D" uid="uid://bdkow7n0au8bv" path="res://assets/sol/parquet-brun-clair-pixilart.png" id="10_dwqxy"]
[ext_resource type="Texture2D" uid="uid://e41tvwpti1lr" path="res://assets/sol/pixilart-drawing(2).png" id="11_ol77h"]
[ext_resource type="PackedScene" uid="uid://bidemcih0p3dj" path="res://scenes/salles/menu.tscn" id="12_8bwnl"]
[ext_resource type="AudioStream" uid="uid://db351d17gu0mw" path="res://musique/door_opening.ogg" id="13_vu7u3"]
[ext_resource type="AudioStream" uid="uid://johqbx3tpyhk" path="res://musique/magasin_background.mp3" id="14_4fekk"]
[ext_resource type="AudioStream" uid="uid://2cgu5caxdtib" path="res://musique/people_talking.mp3" id="15_dh3wr"]
[ext_resource type="AudioStream" uid="uid://dioknkfs7vb5c" path="res://musique/background.mp3" id="16_nmv4e"]
[ext_resource type="Script" uid="uid://djon206v104w1" path="res://scripts/liste_objets.gd" id="17_epgp7"]
[ext_resource type="Texture2D" uid="uid://dnnlob4ekrujw" path="res://assets/meubles/dortoir/cadres.png" id="18_36uti"]
[ext_resource type="Script" uid="uid://bv1edvx7phtyi" path="res://scripts/object.gd" id="19_5w1rt"]
[ext_resource type="Texture2D" uid="uid://clev4g63u6e4w" path="res://assets/meubles/dortoir/armoire.png" id="20_hfx57"]
[ext_resource type="Texture2D" uid="uid://2ftwaynq76r3" path="res://assets/meubles/dortoir/lampe.png" id="21_7sk1o"]
[ext_resource type="Texture2D" uid="uid://cr0jutowfeq0i" path="res://assets/meubles/dortoir/plante1.png" id="22_2iggj"]
[ext_resource type="Texture2D" uid="uid://bwee5nehd7lfv" path="res://assets/meubles/dortoir/plante2.png" id="23_j5ij0"]
[ext_resource type="Texture2D" uid="uid://dtrfeb2wno6wh" path="res://assets/meubles/dortoir/pouf.png" id="24_ukntu"]
[ext_resource type="Texture2D" uid="uid://b6rnfwa8ivg57" path="res://assets/meubles/dortoir/commode.png" id="25_6shgn"]
[ext_resource type="Texture2D" uid="uid://cc1aet06olucy" path="res://assets/meubles/salle_de_bain/rideaux.png" id="26_g0jne"]
[ext_resource type="PackedScene" uid="uid://bjqgfx63o5avc" path="res://scenes/salles/perso_1.tscn" id="27_bk1o1"]
[ext_resource type="Script" uid="uid://uxmk26odp7sp" path="res://scripts/broken_object.gd" id="28_4ofu8"]
[ext_resource type="Texture2D" uid="uid://c6p4b7xpy4in2" path="res://assets/temp/broken_lamp.png" id="29_dptte"]
[ext_resource type="Texture2D" uid="uid://djw3gqbcyhoau" path="res://assets/temp/dust1.png" id="30_b2asv"]
[ext_resource type="Texture2D" uid="uid://dos3isfllrblk" path="res://assets/temp/dust2.png" id="31_g5mtk"]
[ext_resource type="Texture2D" uid="uid://1qsqbymmy0m7" path="res://assets/temp/lamp.png" id="32_fy7g4"]
[ext_resource type="Texture2D" uid="uid://cq8lt8gndr0gs" path="res://assets/meubles/dortoir/commode1.png" id="33_17pjb"]
[ext_resource type="Texture2D" uid="uid://y8pdj7vfn5q2" path="res://assets/meubles/dortoir/litsss.png" id="34_u8mgy"]
[ext_resource type="Texture2D" uid="uid://e4e75ydxs0wn" path="res://assets/meubles/dortoir/lits.png" id="35_suagc"]
[ext_resource type="Texture2D" uid="uid://cb2k2uw7phjp7" path="res://assets/meubles/salle_de_bain/fenetre.png" id="36_0pey2"]
[ext_resource type="Texture2D" uid="uid://ddf3tokdrlbsh" path="res://assets/meubles/dortoir/grand_tapis.png" id="37_ywks6"]
[ext_resource type="Texture2D" uid="uid://bx4qe35a0d58u" path="res://assets/meubles/cuisine/radiateur.png" id="38_deu1o"]
[ext_resource type="PackedScene" uid="uid://1slb4ng5gwih" path="res://scenes/magasin/magasin.tscn" id="39_j8f31"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_ip76g"]
texture = ExtResource("6_aa5oj")
texture_region_size = Vector2i(70, 70)
0:0/0 = 0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_avpxn"]
texture = ExtResource("7_wn41e")
texture_region_size = Vector2i(70, 70)
0:0/0 = 0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_itmto"]
texture = ExtResource("8_cnlyv")
texture_region_size = Vector2i(70, 70)
0:0/0 = 0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_v4ikx"]
texture = ExtResource("9_lggmk")
texture_region_size = Vector2i(70, 70)
0:0/0 = 0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_3i8f6"]
texture = ExtResource("10_dwqxy")
texture_region_size = Vector2i(70, 70)
0:0/0 = 0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_6g4tk"]
texture = ExtResource("11_ol77h")
texture_region_size = Vector2i(70, 70)
0:0/0 = 0

[sub_resource type="TileSet" id="TileSet_duoh5"]
tile_size = Vector2i(70, 70)
sources/4 = SubResource("TileSetAtlasSource_3i8f6")
sources/5 = SubResource("TileSetAtlasSource_6g4tk")
sources/3 = SubResource("TileSetAtlasSource_v4ikx")
sources/2 = SubResource("TileSetAtlasSource_itmto")
sources/1 = SubResource("TileSetAtlasSource_avpxn")
sources/0 = SubResource("TileSetAtlasSource_ip76g")

[sub_resource type="TileSet" id="TileSet_ijx10"]
tile_size = Vector2i(70, 70)

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_i3j5g"]

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_gc0mp"]

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_gghgv"]

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_4ao46"]

[sub_resource type="Animation" id="Animation_gc0mp"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("../marginContainer/textureRect:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [ExtResource("29_dptte")]
}

[sub_resource type="Animation" id="Animation_i3j5g"]
resource_name = "reparer"
length = 2.0
step = 0.5
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("../marginContainer/textureRect:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.5, 1, 1.5),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 1,
"values": [ExtResource("30_b2asv"), ExtResource("31_g5mtk"), ExtResource("30_b2asv"), ExtResource("32_fy7g4")]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_gghgv"]
_data = {
&"RESET": SubResource("Animation_gc0mp"),
&"reparer": SubResource("Animation_i3j5g")
}

[node name="dortoir" type="Node2D" node_paths=PackedStringArray("Personnages")]
script = ExtResource("1_22j5c")
Personnages = NodePath("perso")

[node name="murs" type="Node2D" parent="."]
z_index = -1
script = ExtResource("2_lirun")

[node name="mur1" type="Sprite2D" parent="murs"]
z_index = -3
position = Vector2(31.4999, -256.5)
scale = Vector2(2.978, 1.77222)
texture = ExtResource("3_p850f")

[node name="mur2" type="Sprite2D" parent="murs"]
visible = false
z_index = -3
position = Vector2(31.5001, -254)
scale = Vector2(2.978, -2.13333)
texture = ExtResource("4_rtfo1")

[node name="mur3" type="Sprite2D" parent="murs"]
visible = false
z_index = -3
position = Vector2(31.4999, -254)
scale = Vector2(0.992667, 0.256)
texture = ExtResource("5_ydsas")

[node name="sol" type="TileMapLayer" parent="."]
z_index = -3
tile_map_data = PackedByteArray("AAD2////AgAAAAAAAAD2/wAAAgAAAAAAAAD2/wEAAgAAAAAAAAD2/wIAAgAAAAAAAAD2/wMAAgAAAAAAAAD2/wQAAgAAAAAAAAD2/wUAAgAAAAAAAAD3////BQAAAAAAAAD3/wAABQAAAAAAAAD3/wEABQAAAAAAAAD3/wIABQAAAAAAAAD3/wMABQAAAAAAAAD3/wQABQAAAAAAAAD3/wUABQAAAAAAAAD4////BQAAAAAAAAD4/wAABQAAAAAAAAD4/wEABQAAAAAAAAD4/wIABQAAAAAAAAD4/wMABQAAAAAAAAD4/wQABQAAAAAAAAD4/wUABQAAAAAAAAD5////BQAAAAAAAAD5/wAABQAAAAAAAAD5/wEABQAAAAAAAAD5/wIABQAAAAAAAAD5/wMABQAAAAAAAAD5/wQABQAAAAAAAAD5/wUABQAAAAAAAAD6////BQAAAAAAAAD6/wAABQAAAAAAAAD6/wEABQAAAAAAAAD6/wIABQAAAAAAAAD6/wMABQAAAAAAAAD6/wQABQAAAAAAAAD6/wUABQAAAAAAAAD7////BQAAAAAAAAD7/wAABQAAAAAAAAD7/wEABQAAAAAAAAD7/wIABQAAAAAAAAD7/wMABQAAAAAAAAD7/wQABQAAAAAAAAD7/wUABQAAAAAAAAD8////BQAAAAAAAAD8/wAABQAAAAAAAAD8/wEABQAAAAAAAAD8/wIABQAAAAAAAAD8/wMABQAAAAAAAAD8/wQABQAAAAAAAAD8/wUABQAAAAAAAAD9////BQAAAAAAAAD9/wAABQAAAAAAAAD9/wEABQAAAAAAAAD9/wIABQAAAAAAAAD9/wMABQAAAAAAAAD9/wQABQAAAAAAAAD9/wUABQAAAAAAAAD+////BQAAAAAAAAD+/wAABQAAAAAAAAD+/wEABQAAAAAAAAD+/wIABQAAAAAAAAD+/wMABQAAAAAAAAD+/wQABQAAAAAAAAD+/wUABQAAAAAAAAD/////BQAAAAAAAAD//wAABQAAAAAAAAD//wEABQAAAAAAAAD//wIABQAAAAAAAAD//wMABQAAAAAAAAD//wQABQAAAAAAAAD//wUABQAAAAAAAAAAAP//BQAAAAAAAAAAAAAABQAAAAAAAAAAAAEABQAAAAAAAAAAAAIABQAAAAAAAAAAAAMABQAAAAAAAAAAAAQABQAAAAAAAAAAAAUABQAAAAAAAAABAP//BQAAAAAAAAABAAAABQAAAAAAAAABAAEABQAAAAAAAAABAAIABQAAAAAAAAABAAMABQAAAAAAAAABAAQABQAAAAAAAAABAAUABQAAAAAAAAACAP//BQAAAAAAAAACAAAABQAAAAAAAAACAAEABQAAAAAAAAACAAIABQAAAAAAAAACAAMABQAAAAAAAAACAAQABQAAAAAAAAACAAUABQAAAAAAAAADAP//BQAAAAAAAAADAAAABQAAAAAAAAADAAEABQAAAAAAAAADAAIABQAAAAAAAAADAAMABQAAAAAAAAADAAQABQAAAAAAAAADAAUABQAAAAAAAAAEAP//BQAAAAAAAAAEAAAABQAAAAAAAAAEAAEABQAAAAAAAAAEAAIABQAAAAAAAAAEAAMABQAAAAAAAAAEAAQABQAAAAAAAAAEAAUABQAAAAAAAAAFAP//BQAAAAAAAAAFAAAABQAAAAAAAAAFAAEABQAAAAAAAAAFAAIABQAAAAAAAAAFAAMABQAAAAAAAAAFAAQABQAAAAAAAAAFAAUABQAAAAAAAAAGAP//BQAAAAAAAAAGAAAABQAAAAAAAAAGAAEABQAAAAAAAAAGAAIABQAAAAAAAAAGAAMABQAAAAAAAAAGAAQABQAAAAAAAAAGAAUABQAAAAAAAAAHAP//BQAAAAAAAAAHAAAABQAAAAAAAAAHAAEABQAAAAAAAAAHAAIABQAAAAAAAAAHAAMABQAAAAAAAAAHAAQABQAAAAAAAAAHAAUABQAAAAAAAAAIAP//BQAAAAAAAAAIAAAABQAAAAAAAAAIAAEABQAAAAAAAAAIAAIABQAAAAAAAAAIAAMABQAAAAAAAAAIAAQABQAAAAAAAAAIAAUABQAAAAAAAAAJAP//BQAAAAAAAAAJAAAABQAAAAAAAAAJAAEABQAAAAAAAAAJAAIABQAAAAAAAAAJAAMABQAAAAAAAAAJAAQABQAAAAAAAAAJAAUABQAAAAAAAAAKAP7/AAAAAAAAAAAKAP//AwAAAAAAAAAKAAAAAwAAAAAAAAAKAAEAAwAAAAAAAAAKAAIAAwAAAAAAAAAKAAMAAwAAAAAAAAAKAAQAAwAAAAAAAAAKAAUAAwAAAAAAAAADAP7/BAAAAAAAAAAEAP7/BAAAAAAAAAAFAP7/BAAAAAAAAAAGAP7/BAAAAAAAAAAHAP7/BAAAAAAAAAAIAP7/BAAAAAAAAAAJAP7/BAAAAAAAAAD2//7/AQAAAAAAAAD3//7/BAAAAAAAAAD4//7/BAAAAAAAAAD5//7/BAAAAAAAAAD6//7/BAAAAAAAAAD7//7/BAAAAAAAAAD8//7/BAAAAAAAAAD9//7/BAAAAAAAAAD+//7/BAAAAAAAAAD///7/BAAAAAAAAAAAAP7/BAAAAAAAAAABAP7/BAAAAAAAAAACAP7/BAAAAAAAAAA=")
tile_set = SubResource("TileSet_duoh5")

[node name="ObjectBase" type="TileMapLayer" parent="sol"]
tile_set = SubResource("TileSet_ijx10")

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(34, 0)
zoom = Vector2(0.78, 0.78)

[node name="menu" parent="." instance=ExtResource("12_8bwnl")]
offset_left = 361.0
offset_top = -402.0
offset_right = 361.0
offset_bottom = -402.0

[node name="songs" type="Node" parent="."]

[node name="porte" type="AudioStreamPlayer2D" parent="songs"]
stream = ExtResource("13_vu7u3")

[node name="magasinBackground" type="AudioStreamPlayer2D" parent="songs"]
stream = ExtResource("14_4fekk")

[node name="talkingPeople" type="AudioStreamPlayer2D" parent="songs"]
stream = ExtResource("15_dh3wr")

[node name="mainBackground" type="AudioStreamPlayer2D" parent="songs"]
stream = ExtResource("16_nmv4e")
autoplay = true

[node name="listeObjets" type="Node2D" parent="."]
script = ExtResource("17_epgp7")

[node name="cadres" type="Sprite2D" parent="listeObjets"]
position = Vector2(-600.643, -304.857)
scale = Vector2(4.81786, 4.29286)
texture = ExtResource("18_36uti")
script = ExtResource("19_5w1rt")

[node name="armoire" type="Sprite2D" parent="listeObjets"]
position = Vector2(-294, -258)
scale = Vector2(7.58988, 9.2108)
texture = ExtResource("20_hfx57")
script = ExtResource("19_5w1rt")

[node name="lampe" type="Sprite2D" parent="listeObjets"]
position = Vector2(-139, -223)
scale = Vector2(4.79472, 5.79066)
texture = ExtResource("21_7sk1o")
script = ExtResource("19_5w1rt")

[node name="plante1" type="Sprite2D" parent="listeObjets"]
position = Vector2(130, 295)
scale = Vector2(5.29445, 5.28594)
texture = ExtResource("22_2iggj")
script = ExtResource("19_5w1rt")

[node name="plante2" type="Sprite2D" parent="listeObjets"]
position = Vector2(292, 305)
scale = Vector2(6.4375, 7.31818)
texture = ExtResource("23_j5ij0")
script = ExtResource("19_5w1rt")

[node name="pouf" type="Sprite2D" parent="listeObjets"]
position = Vector2(-111, 327.625)
scale = Vector2(7.25, 6.53571)
texture = ExtResource("24_ukntu")
script = ExtResource("19_5w1rt")

[node name="commode" type="Sprite2D" parent="listeObjets"]
position = Vector2(-57, -164)
scale = Vector2(7, 7)
texture = ExtResource("25_6shgn")
script = ExtResource("19_5w1rt")

[node name="rideaux" type="Sprite2D" parent="listeObjets"]
z_index = 1
position = Vector2(152, -300)
scale = Vector2(1.1739051, 0.7668024)
texture = ExtResource("26_g0jne")
script = ExtResource("19_5w1rt")

[node name="perso" type="Node2D" parent="."]

[node name="perso1" parent="perso" node_paths=PackedStringArray("ListeObjets") instance=ExtResource("27_bk1o1")]
position = Vector2(-137, 71)
ListeObjets = NodePath("../../listeObjets")

[node name="perso2" parent="perso" node_paths=PackedStringArray("ListeObjets") instance=ExtResource("27_bk1o1")]
position = Vector2(128, -16)
ListeObjets = NodePath("../../listeObjets")

[node name="perso3" parent="perso" node_paths=PackedStringArray("ListeObjets") instance=ExtResource("27_bk1o1")]
position = Vector2(-456, -181)
ListeObjets = NodePath("../../listeObjets")

[node name="perso4" parent="perso" node_paths=PackedStringArray("ListeObjets") instance=ExtResource("27_bk1o1")]
position = Vector2(-352, 109)
ListeObjets = NodePath("../../listeObjets")

[node name="brokenObject" type="Node2D" parent="."]
z_index = 3
position = Vector2(-654, -16)
scale = Vector2(0.439275, 0.44)
script = ExtResource("28_4ofu8")

[node name="objetCasse" type="Button" parent="brokenObject"]
z_index = 1
custom_minimum_size = Vector2(200, 200)
offset_right = 200.0
offset_bottom = 200.0
mouse_default_cursor_shape = 2
theme_override_styles/pressed = SubResource("StyleBoxEmpty_i3j5g")
theme_override_styles/hover = SubResource("StyleBoxEmpty_gc0mp")
theme_override_styles/disabled = SubResource("StyleBoxEmpty_gghgv")
theme_override_styles/focus = SubResource("StyleBoxEmpty_4ao46")
flat = true

[node name="btnReparer" type="Button" parent="brokenObject/objetCasse"]
visible = false
top_level = true
z_index = 3
layout_mode = 0
offset_left = -554.0
offset_top = 37.0
offset_right = -367.0
offset_bottom = 73.0
mouse_default_cursor_shape = 2
theme_override_font_sizes/font_size = 20

[node name="marginContainer" type="MarginContainer" parent="brokenObject"]
offset_right = 200.0
offset_bottom = 200.0
mouse_filter = 2

[node name="textureRect" type="TextureRect" parent="brokenObject/marginContainer"]
layout_mode = 2
mouse_filter = 2
texture = ExtResource("29_dptte")
stretch_mode = 5

[node name="animationRepare" type="AnimationPlayer" parent="brokenObject/marginContainer/textureRect"]
unique_name_in_owner = true
root_node = NodePath("../../../objetCasse")
libraries = {
&"": SubResource("AnimationLibrary_gghgv")
}

[node name="decors" type="Node2D" parent="."]

[node name="Commode" type="Sprite2D" parent="decors"]
z_index = 2
position = Vector2(-609, 100)
scale = Vector2(9.20833, 9.75)
texture = ExtResource("33_17pjb")

[node name="Lits" type="Sprite2D" parent="decors"]
z_index = 1
position = Vector2(-544, -61)
scale = Vector2(9.23387, 8.50806)
texture = ExtResource("34_u8mgy")
flip_h = true

[node name="Lit" type="Sprite2D" parent="decors"]
z_index = 2
position = Vector2(-544, 265)
scale = Vector2(9.37903, 8.39516)
texture = ExtResource("35_suagc")

[node name="Fenetres" type="Sprite2D" parent="decors"]
position = Vector2(151, -314)
scale = Vector2(0.28282097, 0.22340968)
texture = ExtResource("36_0pey2")

[node name="GrandTapis" type="Sprite2D" parent="decors"]
z_index = -1
position = Vector2(20, 77)
scale = Vector2(9.65686, 10.3095)
texture = ExtResource("37_ywks6")

[node name="radiateur" type="Sprite2D" parent="decors"]
position = Vector2(-569, -172)
texture = ExtResource("38_deu1o")

[node name="store" parent="." instance=ExtResource("39_j8f31")]
visible = false
z_index = 3
position = Vector2(-690, -414)

[connection signal="pressed" from="brokenObject/objetCasse" to="brokenObject" method="_on_objet_casse_pressed"]
[connection signal="pressed" from="brokenObject/objetCasse/btnReparer" to="." method="_on_btn_reparer_pressed"]
